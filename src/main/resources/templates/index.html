<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.5/datatables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.6.0/dt-1.11.5/datatables.min.js"></script>
</head>
<script>
    let table;
    $(document).ready(function () {
        search();
    });
    function search(){
        const search_test = $('#search_text').val();
        table = $('#myTable').DataTable({
            bDestroy: true,
            serverSide: true,
            processing: true,
            ajax: {
                url: '/search',
                type: 'GET',
                contentType: 'application/json',
                data: {"name" : search_test},
                dataSrc: ""
            },
            columns: [
                {data: "id"},
                {data: "name"},
                {data: "age"},
                {data: "hobby"},
            ],
        });
    }
</script>
<body>
    <input type="text" id="search_text" onKeyPress="if( event.keyCode==13 ){search()}">
    <button type="button" onclick="search()">검색</button>
    <table id="myTable" class="display" style="width:100%">
        <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Age</th>
            <th>Hobby</th>
        </tr>
        </thead>
        </tbody>
    </table>
</body>
</html>